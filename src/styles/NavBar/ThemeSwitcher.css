/* View Transition Animation - Prevent flicker during theme switch */

/* Circle wipe animation ONLY when theme is transitioning */
/* This prevents the animation from appearing on nav links, modals, etc. */
/* Note: We check for the data attribute on :root and apply to pseudo-elements */
::view-transition-old(root),
::view-transition-new(root) {
  animation-duration: 0.5s !important;
  animation-timing-function: ease-in-out !important;
}

/* Old view stays in place and fades out */
::view-transition-old(root) {
  z-index: 1;
  animation-name: none !important;
}

/* New view clips in with circular reveal - only when data attribute is present */
::view-transition-new(root) {
  z-index: 2;
  animation-name: var(--theme-transition-animation, none) !important;
}

/* Circular reveal animation */
@keyframes revealTheme {
  from {
    clip-path: circle(0 at var(--x, 50%) var(--y, 50%));
  }
  to {
    clip-path: circle(var(--r, 100vmax) at var(--x, 50%) var(--y, 50%));
  }
}

/* Optimize theme transition performance */
:root {
  color-scheme: light dark;
}

/* Custom Toggle Button */
.theme-toggle-button {
  background: none;
  border: none;
  cursor: pointer;
  padding: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: transform 0.3s ease;
  z-index: 1;
}

.theme-toggle-button:hover {
  transform: scale(1.1);
}

.theme-toggle-button:active {
  transform: scale(0.95);
}

/* Theme Icon Styling */
.theme-icon {
  color: var(--color-white);
  transition:
    transform 0.3s ease,
    opacity 0.3s ease;
}

/* Sun icon (light mode) - yellow color */
.theme-toggle-button .theme-icon:not([d*='12.79']) {
  color: var(--color-yellow);
}

/* Moon icon (dark mode) - white/light color */
.theme-toggle-button .theme-icon[d*='12.79'] {
  color: var(--color-white);
}

/* Rotate sun icon slightly on hover */
.theme-toggle-button:hover .theme-icon:not([d*='12.79']) {
  transform: rotate(45deg);
}

@media screen and (max-width: 1100px) {
  .theme-toggle-button {
    padding: 12px;
  }

  .theme-icon {
    width: 35px;
    height: 35px;
  }
}
